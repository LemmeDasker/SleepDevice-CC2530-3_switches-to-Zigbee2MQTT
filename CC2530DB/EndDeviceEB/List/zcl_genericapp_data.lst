###############################################################################
#
# IAR C/C++ Compiler V10.30.1.6000 for 8051               22/Sep/2023  19:42:41
# Copyright 2004-2018 IAR Systems AB.
# PC-locked license - IAR Embedded Workbench for 8051
#
#    Core               =  plain
#    Code model         =  banked
#    Data model         =  large
#    Calling convention =  xdata reentrant
#    Constant location  =  data_rom
#    Dptr setup         =  1,16
#                          
#    Source file        =  
#        C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\Source\zcl_genericapp_data.c
#    Command line       =  
#        -f C:\Users\Flemming\AppData\Local\Temp\EWA41B.tmp ("C:\Texas
#        Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\Source\zcl_genericapp_data.c"
#        -D SECURE=1 -D TC_LINKKEY_JOIN -D NV_INIT -D NV_RESTORE -D
#        xPOWER_SAVING -D NWK_AUTO_POLL -D xZTOOL_P1 -D xMT_TASK -D
#        xMT_APP_FUNC -D xMT_SYS_FUNC -D xMT_ZDO_FUNC -D xMT_ZDO_MGMT -D
#        xMT_APP_CNF_FUNC -D xLEGACY_LCD_DEBUG -D xLCD_SUPPORTED=DEBUG -D
#        MULTICAST_ENABLED=FALSE -D ZCL_READ -D ZCL_WRITE -D ZCL_BASIC -D
#        ZCL_IDENTIFY -D xZCL_SCENES -D xZCL_GROUPS -D ZCL_ON_OFF -D
#        xZCL_DISCOVER -lC "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\EndDeviceEB\List"
#        -lA "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\EndDeviceEB\List"
#        --diag_suppress Pe001,Pa010 -o "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\EndDeviceEB\Obj"
#        -e --debug --core=plain --dptr=16,1 --data_model=large
#        --code_model=banked --calling_convention=xdata_reentrant
#        --place_constants=data_rom --nr_virtual_regs 16 -f "C:\Texas
#        Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wEndev.cfg"
#        (-DCPU32MHZ -DROOT=__near_func -DMAC_CFG_TX_DATA_MAX=3
#        -DMAC_CFG_TX_MAX=6 -DMAC_CFG_RX_MAX=3) -f "C:\Texas
#        Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg"
#        (-DZIGBEEPRO -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
#        -DDEFAULT_CHANLIST=0x00000800 -DZDAPP_CONFIG_PAN_ID=0xFFFF
#        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
#        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
#        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
#        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
#        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3
#        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
#        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
#        -DMAX_BINDING_CLUSTER_IDS=4 -DDEFAULT_KEY={0} -DMAC_MAX_FRAME_SIZE=116
#        -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const __code"
#        -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000
#        -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100 -DREJOIN_POLL_RATE=440
#        -DREJOIN_BACKOFF=900000 -DREJOIN_SCAN=900000 -DENABLE_LED4_DISABLE_S1)
#        -f "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wZCL.cfg"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\" -I
#        "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\Source\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\Source\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\ZMain\TI2530DB\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\hal\include\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\hal\target\CC2530EB\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\include\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\high_level\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\single_chip\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\mt\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\osal\include\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\services\saddr\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\services\sdata\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\af\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\bdb\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\gp\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\nwk\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sapi\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sec\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sys\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\zcl\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\zdo\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\zmac\"
#        -I "C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\..\..\..\..\..\Components\zmac\f8w\"
#        -Ohz --require_prototypes)
#    Locale             =  Danish_DNK.1252
#    List file          =  
#        C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\EndDeviceEB\List\zcl_genericapp_data.lst
#    Object file        =  
#        C:\Texas Instruments\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp\CC2530DB\EndDeviceEB\Obj\zcl_genericapp_data.r51
#
###############################################################################

C:\Texas Instruments\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp\Source\zcl_genericapp_data.c
      1          /**************************************************************************************************
      2            Filename:       zcl_genericapp_data.c
      3            Revised:        $Date: 2014-05-12 13:14:02 -0700 (Mon, 12 May 2014) $
      4            Revision:       $Revision: 38502 $
      5          
      6          
      7            Description:    Zigbee Cluster Library - sample device application.
      8          
      9          
     10            Copyright 2006-2014 Texas Instruments Incorporated. All rights reserved.
     11          
     12            IMPORTANT: Your use of this Software is limited to those specific rights
     13            granted under the terms of a software license agreement between the user
     14            who downloaded the software, his/her employer (which must be your employer)
     15            and Texas Instruments Incorporated (the "License").  You may not use this
     16            Software unless you agree to abide by the terms of the License. The License
     17            limits your use, and you acknowledge, that the Software may not be modified,
     18            copied or distributed unless embedded on a Texas Instruments microcontroller
     19            or used solely and exclusively in conjunction with a Texas Instruments radio
     20            frequency transceiver, which is integrated into your product.  Other than for
     21            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     22            works of, modify, distribute, perform, display or sell this Software and/or
     23            its documentation for any purpose.
     24          
     25            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     26            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     27            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     28            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     29            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     30            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     31            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     32            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     33            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     34            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     35            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     36          
     37            Should you have any questions regarding your right to use this Software,
     38            contact Texas Instruments Incorporated at www.TI.com.
     39          **************************************************************************************************/
     40          
     41          /*********************************************************************
     42           * INCLUDES
     43           */
     44          #include "ZComDef.h"
     45          #include "OSAL.h"
     46          #include "AF.h"
     47          #include "ZDConfig.h"
     48          
     49          #include "zcl.h"
     50          #include "zcl_general.h"
     51          #include "zcl_ha.h"
     52          
     53          /* GENERICAPP_TODO: Include any of the header files below to access specific cluster data
     54          #include "zcl_poll_control.h"
     55          #include "zcl_electrical_measurement.h"
     56          #include "zcl_diagnostic.h"
     57          #include "zcl_meter_identification.h"
     58          #include "zcl_appliance_identification.h"
     59          #include "zcl_appliance_events_alerts.h"
     60          #include "zcl_power_profile.h"
     61          #include "zcl_appliance_control.h"
     62          #include "zcl_appliance_statistics.h"
     63          #include "zcl_hvac.h"
     64          */
     65          
     66          #include "zcl_genericapp.h"
     67          
     68          /*********************************************************************
     69           * CONSTANTS
     70           */
     71          
     72          #define GENERICAPP_DEVICE_VERSION     0
     73          #define GENERICAPP_FLAGS              0
     74          
     75          #define GENERICAPP_HWVERSION          1
     76          #define GENERICAPP_ZCLVERSION         2
     77          #define GENERICAPP_APPVERSION         1
     78          #define GENERICAPP_STACKVERSION       1
     79          
     80          /*********************************************************************
     81           * TYPEDEFS
     82           */
     83          
     84          /*********************************************************************
     85           * MACROS
     86           */
     87          
     88          /*********************************************************************
     89           * GLOBAL VARIABLES
     90           */
     91          
     92          // Global attributes

   \                                 In  segment XDATA_ROM_C, align 1
     93          const uint16 zclGenericApp_clusterRevision_all = 0x0001; 
   \                     zclGenericApp_clusterRevision_all:
   \   000000   0100         DW 1
     94          
     95          // Basic Cluster
     96          // Basic Cluster

   \                                 In  segment XDATA_ROM_C, align 1
     97          const uint8 zclGenericApp_ZCLVersion = GENERICAPP_ZCLVERSION;
   \                     zclGenericApp_ZCLVersion:
   \   000000   02           DB 2

   \                                 In  segment XDATA_ROM_C, align 1
     98          const uint8 zclGenericApp_AppVersion = GENERICAPP_APPVERSION;
   \                     zclGenericApp_AppVersion:
   \   000000   01           DB 1

   \                                 In  segment XDATA_ROM_C, align 1
     99          const uint8 zclGenericApp_StackVersion = GENERICAPP_STACKVERSION;
   \                     zclGenericApp_StackVersion:
   \   000000   01           DB 1

   \                                 In  segment XDATA_ROM_C, align 1
    100          const uint8 zclGenericApp_HWRevision = GENERICAPP_HWVERSION;
   \                     zclGenericApp_HWRevision:
   \   000000   01           DB 1

   \                                 In  segment XDATA_ROM_C, align 1
    101          const uint8 zclGenericApp_ManufacturerName[] = { 4, 'T','e','s','t' };
   \                     zclGenericApp_ManufacturerName:
   \   000000   04           DB 4
   \   000001   54           DB 84
   \   000002   65           DB 101
   \   000003   73           DB 115
   \   000004   74           DB 116

   \                                 In  segment XDATA_ROM_C, align 1
    102          const uint8 zclGenericApp_ModelId[] = { 4, 'F','M','G','C' };
   \                     zclGenericApp_ModelId:
   \   000000   04           DB 4
   \   000001   46           DB 70
   \   000002   4D           DB 77
   \   000003   47           DB 71
   \   000004   43           DB 67

   \                                 In  segment XDATA_ROM_C, align 1
    103          const uint8 zclGenericApp_DateCode[] = { 16, '2','0','2','3','0','8','2','7',' ',' ',' ',' ',' ',' ',' ',' ' };
   \                     zclGenericApp_DateCode:
   \   000000   10           DB 16
   \   000001   32           DB 50
   \   000002   30           DB 48
   \   000003   32           DB 50
   \   000004   33           DB 51
   \   000005   30           DB 48
   \   000006   38           DB 56
   \   000007   32           DB 50
   \   000008   37           DB 55
   \   000009   20           DB 32
   \   00000A   20           DB 32
   \   00000B   20           DB 32
   \   00000C   20           DB 32
   \   00000D   20           DB 32
   \   00000E   20           DB 32
   \   00000F   20           DB 32
   \   000010   20           DB 32

   \                                 In  segment XDATA_ROM_C, align 1
    104          const uint8 zclGenericApp_PowerSource = POWER_SOURCE_BATTERY;
   \                     zclGenericApp_PowerSource:
   \   000000   03           DB 3

   \                                 In  segment XDATA_I, align 1, keep-with-next
    105          uint8 zclGenericApp_LocationDescription[] = { 16, 'H','O','M','E',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ' };
   \                     zclGenericApp_LocationDescription:
   \   000000                DS 17
   \   000011                REQUIRE `?<Initializer for zclGenericApp_LocationDescri`
   \   000011                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    106          uint8 zclGenericApp_PhysicalEnvironment = 0;
   \                     zclGenericApp_PhysicalEnvironment:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_I, align 1, keep-with-next
    107          uint8 zclGenericApp_DeviceEnable = DEVICE_ENABLED;
   \                     zclGenericApp_DeviceEnable:
   \   000000                DS 1
   \   000001                REQUIRE `?<Initializer for zclGenericApp_DeviceEnable>`
   \   000001                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    108          uint8 zclGenericApp_SoftwareBuildID[] = { 7, 'N','U','M','B','E','R','1' };
   \                     zclGenericApp_SoftwareBuildID:
   \   000000                DS 8
   \   000008                REQUIRE `?<Initializer for zclGenericApp_SoftwareBuildI`
   \   000008                REQUIRE __INIT_XDATA_I
    109          
    110          // Identify Cluster

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    111          uint16 zclGenericApp_IdentifyTime = 0;
   \                     zclGenericApp_IdentifyTime:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    112          
    113          // On/Off Cluster

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    114          uint8  zclGenericApp_OnOff = 0;
   \                     zclGenericApp_OnOff:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    115          
    116          /* GENERICAPP_TODO: declare attribute variables here. If its value can change,
    117           * initialize it in zclGenericApp_ResetAttributesToDefaultValues. If its
    118           * value will not change, initialize it here.
    119           */
    120          
    121          #if ZCL_DISCOVER
    122          CONST zclCommandRec_t zclGenericApp_Cmds[] =
    123          {
    124            {
    125              ZCL_CLUSTER_ID_GEN_BASIC,
    126              COMMAND_BASIC_RESET_FACT_DEFAULT,
    127              CMD_DIR_SERVER_RECEIVED
    128            },
    129          
    130          };
    131          
    132          CONST uint8 zclCmdsArraySize = ( sizeof(zclGenericApp_Cmds) / sizeof(zclGenericApp_Cmds[0]) );
    133          #endif // ZCL_DISCOVER
    134          
    135          /*********************************************************************
    136           * ATTRIBUTE DEFINITIONS - Uses REAL cluster IDs
    137           */

   \                                 In  segment CODE_C, align 1
    138          CONST zclAttrRec_t zclGenericApp_Attrs[] =
   \                     zclGenericApp_Attrs:
   \   000000   0000         DW 0
   \   000002   0000         DW 0
   \   000004   20           DB 32
   \   000005   01           DB 1
   \   000006   ....         DW zclGenericApp_ZCLVersion
   \   000008   0000         DW 0
   \   00000A   0100         DW 1
   \   00000C   20           DB 32
   \   00000D   01           DB 1
   \   00000E   ....         DW zclGenericApp_AppVersion
   \   000010   0000         DW 0
   \   000012   0200         DW 2
   \   000014   20           DB 32
   \   000015   01           DB 1
   \   000016   ....         DW zclGenericApp_StackVersion
   \   000018   0000         DW 0
   \   00001A   0300         DW 3
   \   00001C   20           DB 32
   \   00001D   01           DB 1
   \   00001E   ....         DW zclGenericApp_HWRevision
   \   000020   0000         DW 0
   \   000022   0400         DW 4
   \   000024   42           DB 66
   \   000025   01           DB 1
   \   000026   ....         DW zclGenericApp_ManufacturerName
   \   000028   0000         DW 0
   \   00002A   0500         DW 5
   \   00002C   42           DB 66
   \   00002D   01           DB 1
   \   00002E   ....         DW zclGenericApp_ModelId
   \   000030   0000         DW 0
   \   000032   0600         DW 6
   \   000034   42           DB 66
   \   000035   01           DB 1
   \   000036   ....         DW zclGenericApp_DateCode
   \   000038   0000         DW 0
   \   00003A   0700         DW 7
   \   00003C   30           DB 48
   \   00003D   01           DB 1
   \   00003E   ....         DW zclGenericApp_PowerSource
   \   000040   0000         DW 0
   \   000042   1000         DW 16
   \   000044   42           DB 66
   \   000045   03           DB 3
   \   000046   ....         DW zclGenericApp_LocationDescription
   \   000048   0000         DW 0
   \   00004A   1100         DW 17
   \   00004C   30           DB 48
   \   00004D   03           DB 3
   \   00004E   ....         DW zclGenericApp_PhysicalEnvironment
   \   000050   0000         DW 0
   \   000052   1200         DW 18
   \   000054   10           DB 16
   \   000055   03           DB 3
   \   000056   ....         DW zclGenericApp_DeviceEnable
   \   000058   0000         DW 0
   \   00005A   0040         DW 16384
   \   00005C   42           DB 66
   \   00005D   01           DB 1
   \   00005E   ....         DW zclGenericApp_SoftwareBuildID
   \   000060   0000         DW 0
   \   000062   FDFF         DW 65533
   \   000064   21           DB 33
   \   000065   01           DB 1
   \   000066   ....         DW zclGenericApp_clusterRevision_all
   \   000068   0300         DW 3
   \   00006A   0000         DW 0
   \   00006C   21           DB 33
   \   00006D   03           DB 3
   \   00006E   ....         DW zclGenericApp_IdentifyTime
   \   000070   0300         DW 3
   \   000072   FDFF         DW 65533
   \   000074   21           DB 33
   \   000075   81           DB 129
   \   000076   ....         DW zclGenericApp_clusterRevision_all
   \   000078   0600         DW 6
   \   00007A   0000         DW 0
   \   00007C   10           DB 16
   \   00007D   01           DB 1
   \   00007E   ....         DW zclGenericApp_OnOff
   \   000080   0600         DW 6
   \   000082   FDFF         DW 65533
   \   000084   21           DB 33
   \   000085   81           DB 129
   \   000086   ....         DW zclGenericApp_clusterRevision_all
    139          {
    140            // *** General Basic Cluster Attributes ***
    141            {ZCL_CLUSTER_ID_GEN_BASIC, {ATTRID_BASIC_ZCL_VERSION, ZCL_DATATYPE_UINT8, ACCESS_CONTROL_READ, (void *)&zclGenericApp_ZCLVersion}},
    142            {ZCL_CLUSTER_ID_GEN_BASIC, {ATTRID_BASIC_APPL_VERSION, ZCL_DATATYPE_UINT8, ACCESS_CONTROL_READ, (void *)&zclGenericApp_AppVersion}},
    143            {ZCL_CLUSTER_ID_GEN_BASIC, {ATTRID_BASIC_STACK_VERSION, ZCL_DATATYPE_UINT8, ACCESS_CONTROL_READ, (void *)&zclGenericApp_StackVersion}},
    144            {ZCL_CLUSTER_ID_GEN_BASIC, {ATTRID_BASIC_HW_VERSION, ZCL_DATATYPE_UINT8, ACCESS_CONTROL_READ, (void *)&zclGenericApp_HWRevision}},
    145            {ZCL_CLUSTER_ID_GEN_BASIC, {ATTRID_BASIC_MANUFACTURER_NAME, ZCL_DATATYPE_CHAR_STR, ACCESS_CONTROL_READ, (void *)zclGenericApp_ManufacturerName}},
    146            {ZCL_CLUSTER_ID_GEN_BASIC, {ATTRID_BASIC_MODEL_ID, ZCL_DATATYPE_CHAR_STR, ACCESS_CONTROL_READ,(void *)zclGenericApp_ModelId}},
    147            {ZCL_CLUSTER_ID_GEN_BASIC, {ATTRID_BASIC_DATE_CODE, ZCL_DATATYPE_CHAR_STR, ACCESS_CONTROL_READ, (void *)zclGenericApp_DateCode}},
    148            {ZCL_CLUSTER_ID_GEN_BASIC, {ATTRID_BASIC_POWER_SOURCE, ZCL_DATATYPE_ENUM8, ACCESS_CONTROL_READ, (void *)&zclGenericApp_PowerSource}},
    149            {ZCL_CLUSTER_ID_GEN_BASIC, {ATTRID_BASIC_LOCATION_DESC, ZCL_DATATYPE_CHAR_STR, (ACCESS_CONTROL_READ | ACCESS_CONTROL_WRITE), (void *)zclGenericApp_LocationDescription}},
    150            {ZCL_CLUSTER_ID_GEN_BASIC, {ATTRID_BASIC_PHYSICAL_ENV, ZCL_DATATYPE_ENUM8, (ACCESS_CONTROL_READ | ACCESS_CONTROL_WRITE), (void *)&zclGenericApp_PhysicalEnvironment}},
    151            {ZCL_CLUSTER_ID_GEN_BASIC, {ATTRID_BASIC_DEVICE_ENABLED, ZCL_DATATYPE_BOOLEAN, (ACCESS_CONTROL_READ | ACCESS_CONTROL_WRITE), (void *)&zclGenericApp_DeviceEnable}},
    152            {ZCL_CLUSTER_ID_GEN_BASIC, {ATTRID_BASIC_SW_BUILD_ID, ZCL_DATATYPE_CHAR_STR, ACCESS_CONTROL_READ, (void *)&zclGenericApp_SoftwareBuildID}},
    153            {ZCL_CLUSTER_ID_GEN_BASIC, {ATTRID_CLUSTER_REVISION, ZCL_DATATYPE_UINT16, ACCESS_CONTROL_READ, (void *)&zclGenericApp_clusterRevision_all}},
    154            
    155          #ifdef ZCL_IDENTIFY
    156            // *** Identify Cluster Attribute ***
    157            {ZCL_CLUSTER_ID_GEN_IDENTIFY, {ATTRID_IDENTIFY_TIME, ZCL_DATATYPE_UINT16, (ACCESS_CONTROL_READ | ACCESS_CONTROL_WRITE), (void *)&zclGenericApp_IdentifyTime}},
    158            {ZCL_CLUSTER_ID_GEN_IDENTIFY, {ATTRID_CLUSTER_REVISION, ZCL_DATATYPE_UINT16, ACCESS_CONTROL_READ | ACCESS_CLIENT, (void *)&zclGenericApp_clusterRevision_all}},
    159          #endif
    160          
    161            // *** On / Off Switch Configuration Cluster *** //
    162            //{ZCL_CLUSTER_ID_GEN_ON_OFF_SWITCH_CONFIG, {ATTRID_ON_OFF_SWITCH_TYPE, ZCL_DATATYPE_ENUM8, ACCESS_CONTROL_READ, (void *)&zclGenericApp_OnOffSwitchType}},
    163            //{ZCL_CLUSTER_ID_GEN_ON_OFF_SWITCH_CONFIG, {ATTRID_ON_OFF_SWITCH_ACTIONS, ZCL_DATATYPE_ENUM8, ACCESS_CONTROL_READ | ACCESS_CONTROL_WRITE, (void *)&zclGenericApp_OnOffSwitchActions}},
    164            //{ZCL_CLUSTER_ID_GEN_ON_OFF_SWITCH_CONFIG, {ATTRID_CLUSTER_REVISION, ZCL_DATATYPE_UINT16, ACCESS_CONTROL_READ, (void *)&zclGenericApp_clusterRevision_all}},
    165          
    166            // *** On / Off Cluster *** //
    167            {ZCL_CLUSTER_ID_GEN_ON_OFF, {ATTRID_ON_OFF, ZCL_DATATYPE_BOOLEAN, ACCESS_CONTROL_READ, (void *)&zclGenericApp_OnOff}},
    168            {ZCL_CLUSTER_ID_GEN_ON_OFF, {ATTRID_CLUSTER_REVISION, ZCL_DATATYPE_UINT16, ACCESS_CONTROL_READ | ACCESS_CLIENT, (void *)&zclGenericApp_clusterRevision_all}},
    169           
    170            // *** Groups Cluster *** //
    171            //{ZCL_CLUSTER_ID_GEN_GROUPS, {ATTRID_CLUSTER_REVISION, ZCL_DATATYPE_UINT16, ACCESS_CONTROL_READ | ACCESS_CLIENT, (void *)&zclGenericApp_clusterRevision_all}}
    172           };
    173          

   \                                 In  segment CODE_C, align 1
    174          uint8 CONST zclGenericApp_NumAttributes = ( sizeof(zclGenericApp_Attrs) / sizeof(zclGenericApp_Attrs[0]) );
   \                     zclGenericApp_NumAttributes:
   \   000000   11           DB 17
    175          
    176          /*********************************************************************
    177           * SIMPLE DESCRIPTOR
    178           */
    179          // This is the Cluster ID List and should be filled with Application
    180          // specific cluster IDs.

   \                                 In  segment XDATA_ROM_C, align 1
    181          const cId_t zclGenericApp_InClusterList[] =
   \                     zclGenericApp_InClusterList:
   \   000000   0000         DW 0
   \   000002   0300         DW 3
    182          {
    183            ZCL_CLUSTER_ID_GEN_BASIC,
    184            ZCL_CLUSTER_ID_GEN_IDENTIFY,
    185            //ZCL_CLUSTER_ID_GEN_ON_OFF_SWITCH_CONFIG
    186            
    187            // GENERICAPP_TODO: Add application specific Input Clusters Here. 
    188            //       See zcl.h for Cluster ID definitions
    189            
    190          };
    191          #define ZCLGENERICAPP_MAX_INCLUSTERS   (sizeof(zclGenericApp_InClusterList) / sizeof(zclGenericApp_InClusterList[0]))
    192          
    193          

   \                                 In  segment XDATA_ROM_C, align 1
    194          const cId_t zclGenericApp_OutClusterList[] =
   \                     zclGenericApp_OutClusterList:
   \   000000   0300         DW 3
   \   000002   0600         DW 6
    195          {
    196            ZCL_CLUSTER_ID_GEN_IDENTIFY,
    197            ZCL_CLUSTER_ID_GEN_ON_OFF,
    198            //ZCL_CLUSTER_ID_GEN_GROUPS,
    199           
    200            // GENERICAPP_TODO: Add application specific Output Clusters Here. 
    201            //       See zcl.h for Cluster ID definitions
    202          };
    203          #define ZCLGENERICAPP_MAX_OUTCLUSTERS  (sizeof(zclGenericApp_OutClusterList) / sizeof(zclGenericApp_OutClusterList[0]))
    204          
    205          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    206          SimpleDescriptionFormat_t zclGenericApp_SimpleDesc =
   \                     zclGenericApp_SimpleDesc:
   \   000000                DS 12
   \   00000C                REQUIRE `?<Initializer for zclGenericApp_SimpleDesc>`
   \   00000C                REQUIRE __INIT_XDATA_I
    207          {
    208            GENERICAPP_ENDPOINT,                  //  int Endpoint;
    209            ZCL_HA_PROFILE_ID,                     //  uint16 AppProfId;
    210            // GENERICAPP_TODO: Replace ZCL_HA_DEVICEID_ON_OFF_LIGHT with application specific device ID
    211            ZCL_HA_DEVICEID_ON_OFF_LIGHT_SWITCH,  //  uint16 AppDeviceId; 
    212            GENERICAPP_DEVICE_VERSION,            //  int   AppDevVer:4;
    213            GENERICAPP_FLAGS,                     //  int   AppFlags:4;
    214            ZCLGENERICAPP_MAX_INCLUSTERS,         //  byte  AppNumInClusters;
    215            (cId_t *)zclGenericApp_InClusterList, //  byte *pAppInClusterList;
    216            ZCLGENERICAPP_MAX_OUTCLUSTERS,        //  byte  AppNumInClusters;
    217            (cId_t *)zclGenericApp_OutClusterList //  byte *pAppInClusterList;
    218          };
    219          
    220          // Added to include ZLL Target functionality
    221          #if defined ( BDB_TL_INITIATOR ) || defined ( BDB_TL_TARGET )
    222          bdbTLDeviceInfo_t tlGenericApp_DeviceInfo =
    223          {
    224            GENERICAPP_ENDPOINT,                  //uint8 endpoint;
    225            ZCL_HA_PROFILE_ID,                    //uint16 profileID;
    226            // GENERICAPP_TODO: Replace ZCL_HA_DEVICEID_ON_OFF_LIGHT with application specific device ID
    227            ZCL_HA_DEVICEID_ON_OFF_LIGHT_SWITCH,  //uint16 deviceID;
    228            GENERICAPP_DEVICE_VERSION,            //uint8 version;
    229            GENERICAPP_NUM_GRPS                   //uint8 grpIdCnt;
    230          };
    231          #endif
    232          
    233          /*********************************************************************
    234           * GLOBAL FUNCTIONS
    235           */
    236          
    237          /*********************************************************************
    238           * LOCAL FUNCTIONS
    239           */
    240            

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    241          void zclGenericApp_ResetAttributesToDefaultValues(void)
   \                     zclGenericApp_ResetAttributesToDefaultValues:
    242          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    243            int i;
    244            
    245            zclGenericApp_LocationDescription[0] = 16;
   \   000004   90....       MOV       DPTR,#zclGenericApp_LocationDescription
   \   000007   7410         MOV       A,#0x10
   \   000009   F0           MOVX      @DPTR,A
    246            for (i = 1; i <= 16; i++)
    247            {
    248              zclGenericApp_LocationDescription[i] = ' ';
   \   00000A   7420         MOV       A,#0x20
   \   00000C   A3           INC       DPTR
   \   00000D   7810         MOV       R0,#0x10
   \                     ??zclGenericApp_ResetAttributesToDefaultValues_0:
   \   00000F   F0           MOVX      @DPTR,A
   \   000010   A3           INC       DPTR
   \   000011   D8FC         DJNZ      R0,??zclGenericApp_ResetAttributesToDefaultValues_0
    249            }
    250            
    251            zclGenericApp_PhysicalEnvironment = PHY_UNSPECIFIED_ENV;
   \   000013   90....       MOV       DPTR,#zclGenericApp_PhysicalEnvironment
   \   000016   E4           CLR       A
   \   000017   F0           MOVX      @DPTR,A
    252            zclGenericApp_DeviceEnable = DEVICE_ENABLED;
   \   000018   90....       MOV       DPTR,#zclGenericApp_DeviceEnable
   \   00001B   04           INC       A
   \   00001C   F0           MOVX      @DPTR,A
    253            
    254          #ifdef ZCL_IDENTIFY
    255            zclGenericApp_IdentifyTime = 0;
   \   00001D   90....       MOV       DPTR,#zclGenericApp_IdentifyTime
   \   000020   E4           CLR       A
   \   000021   F0           MOVX      @DPTR,A
   \   000022   A3           INC       DPTR
   \   000023   F0           MOVX      @DPTR,A
    256          #endif
    257            
    258            /* GENERICAPP_TODO: initialize cluster attribute variables. */
    259          }
   \   000024   D083         POP       DPH
   \   000026   D082         POP       DPL
   \   000028   02....       LJMP      ?BRET

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclGenericApp_LocationDescri`:
   \   000000   10           DB 16
   \   000001   48           DB 72
   \   000002   4F           DB 79
   \   000003   4D           DB 77
   \   000004   45           DB 69
   \   000005   20           DB 32
   \   000006   20           DB 32
   \   000007   20           DB 32
   \   000008   20           DB 32
   \   000009   20           DB 32
   \   00000A   20           DB 32
   \   00000B   20           DB 32
   \   00000C   20           DB 32
   \   00000D   20           DB 32
   \   00000E   20           DB 32
   \   00000F   20           DB 32
   \   000010   20           DB 32

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclGenericApp_DeviceEnable>`:
   \   000000   01           DB 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclGenericApp_SoftwareBuildI`:
   \   000000   07           DB 7
   \   000001   4E           DB 78
   \   000002   55           DB 85
   \   000003   4D           DB 77
   \   000004   42           DB 66
   \   000005   45           DB 69
   \   000006   52           DB 82
   \   000007   31           DB 49

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclGenericApp_SimpleDesc>`:
   \   000000   01           DB 1
   \   000001   0401         DW 260
   \   000003   0301         DW 259
   \   000005   00           DB 0
   \   000006   02           DB 2
   \   000007   ....         DW zclGenericApp_InClusterList
   \   000009   02           DB 2
   \   00000A   ....         DW zclGenericApp_OutClusterList
    260          
    261          /****************************************************************************
    262          ****************************************************************************/
    263          
    264          

   Maximum stack usage in bytes:

   ISTACK Function
   ------ --------
      2   zclGenericApp_ResetAttributesToDefaultValues


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       1  ?<Initializer for zclGenericApp_DeviceEnable>
      17  ?<Initializer for zclGenericApp_LocationDescri
      12  ?<Initializer for zclGenericApp_SimpleDesc>
       8  ?<Initializer for zclGenericApp_SoftwareBuildI
       1  zclGenericApp_AppVersion
     136  zclGenericApp_Attrs
      17  zclGenericApp_DateCode
       1  zclGenericApp_DeviceEnable
       1  zclGenericApp_HWRevision
       2  zclGenericApp_IdentifyTime
       4  zclGenericApp_InClusterList
      17  zclGenericApp_LocationDescription
       5  zclGenericApp_ManufacturerName
       5  zclGenericApp_ModelId
       1  zclGenericApp_NumAttributes
       1  zclGenericApp_OnOff
       4  zclGenericApp_OutClusterList
       1  zclGenericApp_PhysicalEnvironment
       1  zclGenericApp_PowerSource
      43  zclGenericApp_ResetAttributesToDefaultValues
      12  zclGenericApp_SimpleDesc
       8  zclGenericApp_SoftwareBuildID
       1  zclGenericApp_StackVersion
       1  zclGenericApp_ZCLVersion
       2  zclGenericApp_clusterRevision_all
       6  -- Other

 
  43 bytes in segment BANKED_CODE
   6 bytes in segment BANK_RELAYS
 137 bytes in segment CODE_C
  38 bytes in segment XDATA_I
  38 bytes in segment XDATA_ID
  42 bytes in segment XDATA_ROM_C
   4 bytes in segment XDATA_Z
 
 181 bytes of CODE     memory
  42 bytes of CONST    memory
  43 bytes of HUGECODE memory
  42 bytes of XDATA    memory

Errors: none
Warnings: none
